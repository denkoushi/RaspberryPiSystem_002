---
description: 仮説駆動で原因特定し、最小修正へ導くデバッグ手順（環境依存の手順は含めない）。
globs:
  - "**/*.{ts,tsx,js,jsx,py,go,java,rs,kt,swift}"
alwaysApply: false
---

# デバッグ: プレイブック（Auto Attached）

## 原則

- いきなり直さない。まず「**何が起きているか**」を測る
- 仮説を複数持ち、ログ/計測で潰す（1本釣りしない）

## 手順（最小）

1. **再現**: 再現条件・頻度・影響範囲を特定
2. **仮説**: 3–5個の仮説を列挙（互いに排他的だと強い）
3. **計測**: 仮説を同時に判定できるログ/メトリクスを追加
4. **判断**: 仮説ごとに CONFIRMED/REJECTED/INCONCLUSIVE を付ける
5. **修正**: 100%近い根拠が揃ってから最小修正
6. **回帰防止**: 可能ならテスト追加、難しければ監視/ガードを追加

## ログ設計

- 位置（ファイル/関数）・入力・分岐・所要時間・失敗理由を揃える
- PII/秘密情報をログに出さない（必要ならマスク）
